{"remainingRequest":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/babel-loader/lib/index.js!/Users/kingsun/打咩/Vue/vue-practice/src/utils/myqueue.js","dependencies":[{"path":"/Users/kingsun/打咩/Vue/vue-practice/src/utils/myqueue.js","mtime":1658320933692},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMva2luZ3N1bi9cdTYyNTNcdTU0QTkvVnVlL3Z1ZS1wcmFjdGljZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9raW5nc3VuL1x1NjI1M1x1NTRBOS9WdWUvdnVlLXByYWN0aWNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKCnZhciBNeXF1ZXVlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBNeXF1ZXVlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgbWF4bGltaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDEwOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNeXF1ZXVlKTsKCiAgICB0aGlzLnRhc2tMaXN0ID0gW107CiAgICB0aGlzLm1heGxpbWl0ID0gbWF4bGltaXQ7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucnVuKCk7CiAgICB9LCAwKTsKICB9CgogIF9jcmVhdGVDbGFzcyhNeXF1ZXVlLCBbewogICAga2V5OiAicnVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBydW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG1pbiA9IE1hdGgubWluKHRoaXMubWF4bGltaXQsIHRoaXMudGFza0xpc3QubGVuZ3RoKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWluOyBpKyspIHsKICAgICAgICB2YXIgZWxlID0gdGhpcy50YXNrTGlzdFtpXTsKICAgICAgICB2YXIgdGFzayA9IHRoaXMudGFza0xpc3Quc2hpZnQoKTsKICAgICAgICBjb25zb2xlLmxvZyh0YXNrID09PSBlbGUsICd0YXNrJyk7CiAgICAgICAgdGFzaygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLCAncmVzJyk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyLCAnZXJyJyk7CiAgICAgICAgfSlbImZpbmFsbHkiXShmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICBfdGhpczIucnVuKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRUYXNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRUYXNrKHRhc2spIHsKICAgICAgdGhpcy50YXNrTGlzdC5wdXNoKHRhc2spOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE15cXVldWU7Cn0oKTsKCmV4cG9ydCB7IE15cXVldWUgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/kingsun/打咩/Vue/vue-practice/src/utils/myqueue.js"],"names":["Myqueue","maxlimit","taskList","setTimeout","run","min","Math","length","i","ele","task","shift","console","log","then","res","err","msg","push"],"mappings":";;;;;IACqBA,O;AACnB,qBAA2B;AAAA;;AAAA,QAAfC,QAAe,uEAAJ,EAAI;;AAAA;;AACzB,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKD,QAAL,GAAgBA,QAAhB;AACAE,IAAAA,UAAU,CAAC,YAAM;AACf,MAAA,KAAI,CAACC,GAAL;AACD,KAFS,EAEP,CAFO,CAAV;AAGD;;;;WACD,eAAM;AAAA;;AACJ,UAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,CAAS,KAAKJ,QAAd,EAAwB,KAAKC,QAAL,CAAcK,MAAtC,CAAZ;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,GAApB,EAAyBG,CAAC,EAA1B,EAA8B;AAC5B,YAAMC,GAAG,GAAG,KAAKP,QAAL,CAAcM,CAAd,CAAZ;AACA,YAAME,IAAI,GAAG,KAAKR,QAAL,CAAcS,KAAd,EAAb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,KAAKD,GAArB,EAA0B,MAA1B;AACAC,QAAAA,IAAI,GAAGI,IAAP,CAAY,UAAAC,GAAG,EAAI;AACjBH,UAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAAiB,KAAjB;AACD,SAFD,WAES,UAAAC,GAAG,EAAI;AACdJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,EAAiB,KAAjB;AACD,SAJD,aAIW,UAAAC,GAAG,EAAI;AAChB,UAAA,MAAI,CAACb,GAAL;AACD,SAND;AAOD;AACF;;;WACD,iBAAQM,IAAR,EAAc;AACZ,WAAKR,QAAL,CAAcgB,IAAd,CAAmBR,IAAnB;AACD;;;;;;SA1BkBV,O","sourcesContent":["\nexport default class Myqueue {\n  constructor(maxlimit = 10) {\n    this.taskList = []\n    this.maxlimit = maxlimit\n    setTimeout(() => {\n      this.run()\n    }, 0)\n  }\n  run() {\n    const min = Math.min(this.maxlimit, this.taskList.length)\n\n    for (let i = 0; i < min; i++) {\n      const ele = this.taskList[i]\n      const task = this.taskList.shift()\n      console.log(task === ele, 'task')\n      task().then(res => {\n        console.log(res, 'res')\n      }).catch(err => {\n        console.log(err, 'err')\n      }).finally(msg => {\n        this.run()\n      })\n    }\n  }\n  addTask(task) {\n    this.taskList.push(task)\n  }\n}\n\n"]}]}