{"remainingRequest":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/babel-loader/lib/index.js!/Users/kingsun/打咩/Vue/vue-practice/src/components/Dialog/index.js","dependencies":[{"path":"/Users/kingsun/打咩/Vue/vue-practice/src/components/Dialog/index.js","mtime":1652400207662},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2tpbmdzdW4vXHU2MjUzXHU1NEE5L1Z1ZS92dWUtcHJhY3RpY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9raW5nc3VuL1x1NjI1M1x1NTRBOS9WdWUvdnVlLXByYWN0aWNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2tpbmdzdW4vXHU2MjUzXHU1NEE5L1Z1ZS92dWUtcHJhY3RpY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKd2luZG93LmpRdWVyeSA9ICQ7Cgp2YXIgbGF5ZXIgPSByZXF1aXJlKCdsYXl1aS1sYXllcicpOwoKdmFyIERpYWxvZyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRGlhbG9nKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpYWxvZyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRGlhbG9nLCBudWxsLCBbewogICAga2V5OiAiY2xvc2UiLAogICAgdmFsdWU6CiAgICAvKioKICAgICAqIOWFs+mXreW8ueeqlwogICAgICogQHBhcmFtIHsqfSBpbmRleCDopoHlhbPpl63nmoTlvLnnqpfnmoRpbmRleAogICAgICovCiAgICBmdW5jdGlvbiBjbG9zZShpbmRleCkgewogICAgICBsYXllci5jbG9zZShpbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIOWFs+mXreaJgOacieW8ueeqlwogICAgICovCgogIH0sIHsKICAgIGtleTogImNsb3NlQWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZUFsbCgpIHsKICAgICAgbGF5ZXIuY2xvc2VBbGwoKTsKICAgIH0KICAgIC8qKgogICAgICog5omT5byA5by556qXCiAgICAgKiBAcGFyYW0geyp9IHRpdGxlIOW8ueeql+agh+mimAogICAgICogQHBhcmFtIHsqfSBjb21wb25lbnQg5by556qX5YaF5a6555qE57uE5Lu2CiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMg5by556qX6K6+572u77yI6K+m5oOF6K+36KeBbGF5dWnlrpjnvZHvvIkKICAgICAqIEBwYXJhbSB7Kn0gcGFyYW1zIOW8ueeql+e7hOS7tuWPguaVsAogICAgICovCgogIH0sIHsKICAgIGtleTogInNob3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3codGl0bGUsIGNvbXBvbmVudCwgb3B0aW9ucywgcGFyYW1zKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGxheWVyT3B0aW9ucyA9IHsKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICBza2luOiAnbGF5ZXItZGlhbG9nJywKICAgICAgICAgIHJlc2l6ZTogZmFsc2UsCiAgICAgICAgICBvZmZzZXQ6ICdhdXRvJywKICAgICAgICAgIHpJbmRleDogMTAwMCwKICAgICAgICAgIGluZGV4OiAwLAogICAgICAgICAgY29udGVudERvbTogbnVsbAogICAgICAgIH07CiAgICAgICAgbGF5ZXJPcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsYXllck9wdGlvbnMpLCBvcHRpb25zKTsKCiAgICAgICAgbGF5ZXJPcHRpb25zLmVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChsYXllck9wdGlvbnMuY29udGVudERvbSkgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsYXllck9wdGlvbnMuY29udGVudERvbSk7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIG9ic2VydmVyID0gewogICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgICAgICAgIHZhciBpc1N1Y2Nlc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICAgICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICAgICAgICBsYXllci5jbG9zZSh0aGlzLmluZGV4KTsKCiAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHsKICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlamVjdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgaW5kZXg6IC0xCiAgICAgICAgfTsKCiAgICAgICAgbGF5ZXJPcHRpb25zLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlamVjdCgpOwogICAgICAgIH07CgogICAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvbSk7CiAgICAgICAgdmFyIENvbnRlbnQgPSBWdWUuZXh0ZW5kKGNvbXBvbmVudCk7CiAgICAgICAgdmFyIHZ1ZU9iaiA9IG5ldyBDb250ZW50KHsKICAgICAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICAgICAgc3RvcmU6IHN0b3JlLAogICAgICAgICAgcHJvcHNEYXRhOiBwYXJhbXMKICAgICAgICB9KTsKICAgICAgICB2dWVPYmoub2JzZXJ2ZXIgPSBvYnNlcnZlcjsKICAgICAgICB2dWVPYmouJG1vdW50KGRvbSk7CiAgICAgICAgbGF5ZXJPcHRpb25zLmNvbnRlbnREb20gPSB2dWVPYmouJGVsOwogICAgICAgIGxheWVyT3B0aW9ucy5jb250ZW50ID0gJChsYXllck9wdGlvbnMuY29udGVudERvbSk7CiAgICAgICAgb2JzZXJ2ZXIuaW5kZXggPSBsYXllci5vcGVuKGxheWVyT3B0aW9ucyk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERpYWxvZzsKfSgpOwoKVnVlLnByb3RvdHlwZS4kZGlhbG9nID0gRGlhbG9nOwpleHBvcnQgZGVmYXVsdCBEaWFsb2c7"},{"version":3,"sources":["/Users/kingsun/打咩/Vue/vue-practice/src/components/Dialog/index.js"],"names":["$","Vue","router","store","window","jQuery","layer","require","Dialog","index","close","closeAll","title","component","options","params","Promise","resolve","reject","layerOptions","type","skin","resize","offset","zIndex","contentDom","end","document","body","removeChild","observer","cancel","isSuccess","data","undefined","dom","createElement","appendChild","Content","extend","vueObj","propsData","$mount","$el","content","open","prototype","$dialog"],"mappings":"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","sourcesContent":["import $ from 'jquery'\nimport Vue from 'vue'\nimport router from '@/router'\nimport store from '@/store'\n\nwindow.jQuery = $\nconst layer = require('layui-layer')\n\nclass Dialog {\n  /**\n   * 关闭弹窗\n   * @param {*} index 要关闭的弹窗的index\n   */\n  static close(index) {\n    layer.close(index)\n  }\n  /**\n   * 关闭所有弹窗\n   */\n  static closeAll() {\n    layer.closeAll()\n  }\n  /**\n   * 打开弹窗\n   * @param {*} title 弹窗标题\n   * @param {*} component 弹窗内容的组件\n   * @param {*} options 弹窗设置（详情请见layui官网）\n   * @param {*} params 弹窗组件参数\n   */\n  static show(title, component, options, params) {\n    return new Promise((resolve, reject) => {\n      let layerOptions = {\n        title: title,\n        type: 1,\n        skin: 'layer-dialog',\n        resize: false,\n        offset: 'auto',\n        zIndex: 1000,\n        index: 0,\n        contentDom: null\n      }\n\n      layerOptions = { ...layerOptions, ...options }\n      layerOptions.end = () => {\n        if (layerOptions.contentDom) document.body.removeChild(layerOptions.contentDom)\n      }\n\n      const observer = {\n        cancel: function(isSuccess = false, data = undefined) {\n          layer.close(this.index)\n          if (isSuccess) {\n            resolve(data)\n          } else {\n            reject()\n          }\n        },\n        index: -1\n      }\n      layerOptions.cancel = () => {\n        reject()\n      }\n      const dom = document.createElement('div')\n      document.body.appendChild(dom)\n      const Content = Vue.extend(component)\n      const vueObj = new Content({ router: router, store: store, propsData: params })\n      vueObj.observer = observer\n      vueObj.$mount(dom)\n      layerOptions.contentDom = vueObj.$el\n      layerOptions.content = $(layerOptions.contentDom)\n      observer.index = layer.open(layerOptions)\n    })\n  }\n}\n\nVue.prototype.$dialog = Dialog\n\nexport default Dialog\n"]}]}