{"remainingRequest":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kingsun/打咩/Vue/vue-practice/src/views/tableCol/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kingsun/打咩/Vue/vue-practice/src/views/tableCol/index.vue","mtime":1641979094358},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kingsun/打咩/Vue/vue-practice/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhMzogWwogICAgICAgIHsgaWQ6IDEwMDAxLCBrZXk6ICdhcHAubGFiZWwubmFtZScsIGNvbnRlbnQ6ICflkI3np7AnLCBsYW5ndWFnZTogJ3poX0NOJyB9LAogICAgICAgIHsgaWQ6IDEwMDAyLCBrZXk6ICdhcHAubGFiZWwubmFtZScsIGNvbnRlbnQ6ICdOYW1lJywgbGFuZ3VhZ2U6ICdlbl9VUycgfSwKICAgICAgICB7IGlkOiAxMDAwMywga2V5OiAnYXBwLmxhYmVsLnNleCcsIGNvbnRlbnQ6ICfmgKfliKsnLCBsYW5ndWFnZTogJ3poX0NOJyB9LAogICAgICAgIHsgaWQ6IDEwMDA0LCBrZXk6ICdhcHAubGFiZWwuc2V4JywgY29udGVudDogJ1NleCcsIGxhbmd1YWdlOiAnZW5fVVMnIH0sCiAgICAgICAgeyBpZDogMTAwMDUsIGtleTogJ2FwcC5sYWJlbC5hZ2UnLCBjb250ZW50OiAn5bm06b6EJywgbGFuZ3VhZ2U6ICd6aF9DTicgfSwKICAgICAgICB7IGlkOiAxMDAwNiwga2V5OiAnYXBwLmxhYmVsLmFnZScsIGNvbnRlbnQ6ICdBZ2UnLCBsYW5ndWFnZTogJ2VuX1VTJyB9LAogICAgICAgIHsgaWQ6IDEwMDA3LCBrZXk6ICdhcHAubGFiZWwucm9sZScsIGNvbnRlbnQ6ICfop5LoibInLCBsYW5ndWFnZTogJ3poX0NOJyB9LAogICAgICAgIHsgaWQ6IDEwMDA4LCBrZXk6ICdhcHAubGFiZWwucm9sZScsIGNvbnRlbnQ6ICdSb2xlJywgbGFuZ3VhZ2U6ICdlbl9VUycgfSwKICAgICAgICB7IGlkOiAxMDAwOSwga2V5OiAnYXBwLmxhYmVsLmFkZHJlc3MnLCBjb250ZW50OiAn5Zyw5Z2AJywgbGFuZ3VhZ2U6ICd6aF9DTicgfSwKICAgICAgICB7IGlkOiAxMDAxMCwga2V5OiAnYXBwLmxhYmVsLmFkZHJlc3MnLCBjb250ZW50OiAnQWRkcmVzcycsIGxhbmd1YWdlOiAnZW5fVVMnIH0sCiAgICAgICAgeyBpZDogMTAwMTEsIGtleTogJ2FwcC5sYWJlbC5uaWNrbmFtZScsIGNvbnRlbnQ6ICfmmLXnp7AnLCBsYW5ndWFnZTogJ3poX0NOJyB9LAogICAgICAgIHsgaWQ6IDEwMDEyLCBrZXk6ICdhcHAubGFiZWwubmlja25hbWUnLCBjb250ZW50OiAnTmlja25hbWUnLCBsYW5ndWFnZTogJ2VuX1VTJyB9CiAgICAgIF0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgbWVyZ2VSb3dNZXRob2QoeyByb3csIF9yb3dJbmRleCwgX2NvbHVtbkluZGV4LCBjb2x1bW4sIHZpc2libGVEYXRhIH0pIHsKICAgICAgLy8g5LiN5pmT5b6X5LiN5pmT5b6XCiAgICAgIC8vIGNvbnNvbGUubG9nKHJvdywgX3Jvd0luZGV4LCBfY29sdW1uSW5kZXgsIGNvbHVtbiwgdmlzaWJsZURhdGEsICdyb3csIF9yb3dJbmRleCwgY29sdW1uLCB2aXNpYmxlRGF0YScpCiAgICAgIC8vIHJldHVybiB7IHJvd3NwYW46IDEsIGNvbHNwYW46IDEgfQoKICAgICAgZm9yIChjb25zdCBrIGluIHJvdykgewogICAgICAgIGNvbnN0IGZpZWxkcyA9IGsKICAgICAgICBjb25zdCBjZWxsVmFsdWUgPSByb3dbY29sdW1uLnByb3BlcnR5XQogICAgICAgIGlmIChjZWxsVmFsdWUgJiYgZmllbGRzLmluY2x1ZGVzKGNvbHVtbi5wcm9wZXJ0eSkpIHsKICAgICAgICAgIC8vIOWIpOaWreihjAogICAgICAgICAgY29uc3QgcHJldlJvdyA9IHZpc2libGVEYXRhW19yb3dJbmRleCAtIDFdCiAgICAgICAgICBsZXQgbmV4dFJvdyA9IHZpc2libGVEYXRhW19yb3dJbmRleCArIDFdCiAgICAgICAgICBsZXQgY291bnRSb3dzcGFuID0gMQogICAgICAgICAgbGV0IGNvdW50Q29sc3BhbiA9IDEKICAgICAgICAgIGlmIChwcmV2Um93ICYmIHByZXZSb3dbY29sdW1uLnByb3BlcnR5XSA9PT0gY2VsbFZhbHVlKSB7CiAgICAgICAgICAgIC8vIHJldHVybiB7IHJvd3NwYW46IDAsIGNvbHNwYW46IDAgfQogICAgICAgICAgICAvLyBjb3VudFJvd3NwYW4gPSAwCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB3aGlsZSAobmV4dFJvdyAmJiBuZXh0Um93W2NvbHVtbi5wcm9wZXJ0eV0gPT09IGNlbGxWYWx1ZSkgewogICAgICAgICAgICAgIG5leHRSb3cgPSB2aXNpYmxlRGF0YVsrK2NvdW50Um93c3BhbiArIF9yb3dJbmRleF0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIOWIpOaWreWIlwogICAgICAgICAgY29uc3QgcHJldkNvbCA9IHZpc2libGVEYXRhW19jb2x1bW5JbmRleCAtIDFdCiAgICAgICAgICBsZXQgbmV4dENvbCA9IHZpc2libGVEYXRhW19jb2x1bW5JbmRleCArIDFdCiAgICAgICAgICBpZiAocHJldkNvbCAmJiBwcmV2Q29sW2NvbHVtbi5wcm9wZXJ0eV0gPT09IGNlbGxWYWx1ZSkgewogICAgICAgICAgICAvLyByZXR1cm4geyByb3dzcGFuOiAwLCBjb2xzcGFuOiAwIH0KICAgICAgICAgICAgLy8gY291bnRDb2xzcGFuID0gMAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgd2hpbGUgKG5leHRDb2wgJiYgbmV4dENvbFtjb2x1bW4ucHJvcGVydHldID09PSBjZWxsVmFsdWUpIHsKICAgICAgICAgICAgICBuZXh0Q29sID0gdmlzaWJsZURhdGFbKytjb3VudENvbHNwYW4gKyBfY29sdW1uSW5kZXhdCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY291bnRSb3dzcGFuID4gMSB8fCBjb3VudENvbHNwYW4gPiAxKSB7CiAgICAgICAgICAgIHJldHVybiB7IHJvd3NwYW46IGNvdW50Um93c3BhbiwgY29sc3BhbjogMSB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/tableCol","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <vxe-table\n      border\n      resizable\n      height=\"300\"\n      :scroll-y=\"{enabled: false}\"\n      :span-method=\"mergeRowMethod\"\n      :data=\"tableData3\"\n    >\n      <vxe-column type=\"seq\" width=\"60\" />\n      <vxe-column field=\"key\" title=\"Key\" />\n      <vxe-column field=\"content\" title=\"Translate\" />\n      <vxe-column field=\"language\" title=\"Language\" :filters=\"[{label: '中文', value: 'zh_CN' }, {label: 'English', value: 'en_US'}]\" />\n    </vxe-table>\n\n  </div>\n</template>\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      tableData3: [\n        { id: 10001, key: 'app.label.name', content: '名称', language: 'zh_CN' },\n        { id: 10002, key: 'app.label.name', content: 'Name', language: 'en_US' },\n        { id: 10003, key: 'app.label.sex', content: '性别', language: 'zh_CN' },\n        { id: 10004, key: 'app.label.sex', content: 'Sex', language: 'en_US' },\n        { id: 10005, key: 'app.label.age', content: '年龄', language: 'zh_CN' },\n        { id: 10006, key: 'app.label.age', content: 'Age', language: 'en_US' },\n        { id: 10007, key: 'app.label.role', content: '角色', language: 'zh_CN' },\n        { id: 10008, key: 'app.label.role', content: 'Role', language: 'en_US' },\n        { id: 10009, key: 'app.label.address', content: '地址', language: 'zh_CN' },\n        { id: 10010, key: 'app.label.address', content: 'Address', language: 'en_US' },\n        { id: 10011, key: 'app.label.nickname', content: '昵称', language: 'zh_CN' },\n        { id: 10012, key: 'app.label.nickname', content: 'Nickname', language: 'en_US' }\n      ]\n    }\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    mergeRowMethod({ row, _rowIndex, _columnIndex, column, visibleData }) {\n      // 不晓得不晓得\n      // console.log(row, _rowIndex, _columnIndex, column, visibleData, 'row, _rowIndex, column, visibleData')\n      // return { rowspan: 1, colspan: 1 }\n\n      for (const k in row) {\n        const fields = k\n        const cellValue = row[column.property]\n        if (cellValue && fields.includes(column.property)) {\n          // 判断行\n          const prevRow = visibleData[_rowIndex - 1]\n          let nextRow = visibleData[_rowIndex + 1]\n          let countRowspan = 1\n          let countColspan = 1\n          if (prevRow && prevRow[column.property] === cellValue) {\n            // return { rowspan: 0, colspan: 0 }\n            // countRowspan = 0\n          } else {\n            while (nextRow && nextRow[column.property] === cellValue) {\n              nextRow = visibleData[++countRowspan + _rowIndex]\n            }\n          }\n\n          // 判断列\n          const prevCol = visibleData[_columnIndex - 1]\n          let nextCol = visibleData[_columnIndex + 1]\n          if (prevCol && prevCol[column.property] === cellValue) {\n            // return { rowspan: 0, colspan: 0 }\n            // countColspan = 0\n          } else {\n            while (nextCol && nextCol[column.property] === cellValue) {\n              nextCol = visibleData[++countColspan + _columnIndex]\n            }\n          }\n\n          if (countRowspan > 1 || countColspan > 1) {\n            return { rowspan: countRowspan, colspan: 1 }\n          }\n        }\n      }\n    }\n  }\n}\n</script>\n<style lang='scss' scoped>\n.app-container {}\n</style>\n"]}]}